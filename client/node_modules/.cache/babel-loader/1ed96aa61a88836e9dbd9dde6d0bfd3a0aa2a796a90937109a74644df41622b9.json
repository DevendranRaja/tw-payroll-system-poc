{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\n/**\n * Copyright IBM Corp. 2021\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, { useState, useRef, useEffect } from 'react';\nimport classnames from 'classnames';\nimport Search from '../Search';\nimport { usePrefix } from '../../internal/usePrefix';\nfunction ExpandableSearch(props) {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    expanded = _useState2[0],\n    setExpanded = _useState2[1];\n  var searchRef = useRef(null);\n  var prefix = usePrefix();\n  function handleFocus() {\n    if (!expanded) {\n      setExpanded(true);\n    }\n  }\n  function handleBlur(evt) {\n    var relatedTargetIsAllowed = evt.relatedTarget && evt.relatedTarget.classList.contains(\"\".concat(prefix, \"--search-close\"));\n    if (expanded && !relatedTargetIsAllowed && !searchRef.current.state.hasContent) {\n      setExpanded(false);\n    }\n  }\n  useEffect(function () {\n    var _searchRef$current2;\n    function focusInput() {\n      var _searchRef$current;\n      if (!expanded && (_searchRef$current = searchRef.current) !== null && _searchRef$current !== void 0 && _searchRef$current.input) {\n        searchRef.current.input.focus();\n      }\n    }\n    if ((_searchRef$current2 = searchRef.current) !== null && _searchRef$current2 !== void 0 && _searchRef$current2.magnifier) {\n      var magnifier = searchRef.current.magnifier;\n      magnifier.addEventListener('click', focusInput);\n      return function () {\n        magnifier.removeEventListener('click', focusInput);\n      };\n    }\n  }, [expanded, searchRef]);\n  var classes = classnames(\"\".concat(prefix, \"--search--expandable\"), _defineProperty({}, \"\".concat(prefix, \"--search--expanded\"), expanded), props.className);\n  return /*#__PURE__*/React.createElement(Search, _extends({}, props, {\n    ref: searchRef,\n    className: classes,\n    onFocus: handleFocus,\n    onBlur: handleBlur\n  }));\n}\nExpandableSearch.propTypes = Search.propTypes;\nexport default ExpandableSearch;","map":{"version":3,"names":["_extends","_defineProperty","_slicedToArray","React","useState","useRef","useEffect","classnames","Search","usePrefix","ExpandableSearch","props","_useState","_useState2","expanded","setExpanded","searchRef","prefix","handleFocus","handleBlur","evt","relatedTargetIsAllowed","relatedTarget","classList","contains","concat","current","state","hasContent","_searchRef$current2","focusInput","_searchRef$current","input","focus","magnifier","addEventListener","removeEventListener","classes","className","createElement","ref","onFocus","onBlur","propTypes"],"sources":["/Users/devendranraja/Downloads/one-payroll/client/node_modules/carbon-components-react/es/components/ExpandableSearch/ExpandableSearch.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\n/**\n * Copyright IBM Corp. 2021\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, { useState, useRef, useEffect } from 'react';\nimport classnames from 'classnames';\nimport Search from '../Search';\nimport { usePrefix } from '../../internal/usePrefix';\n\nfunction ExpandableSearch(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      expanded = _useState2[0],\n      setExpanded = _useState2[1];\n\n  var searchRef = useRef(null);\n  var prefix = usePrefix();\n\n  function handleFocus() {\n    if (!expanded) {\n      setExpanded(true);\n    }\n  }\n\n  function handleBlur(evt) {\n    var relatedTargetIsAllowed = evt.relatedTarget && evt.relatedTarget.classList.contains(\"\".concat(prefix, \"--search-close\"));\n\n    if (expanded && !relatedTargetIsAllowed && !searchRef.current.state.hasContent) {\n      setExpanded(false);\n    }\n  }\n\n  useEffect(function () {\n    var _searchRef$current2;\n\n    function focusInput() {\n      var _searchRef$current;\n\n      if (!expanded && (_searchRef$current = searchRef.current) !== null && _searchRef$current !== void 0 && _searchRef$current.input) {\n        searchRef.current.input.focus();\n      }\n    }\n\n    if ((_searchRef$current2 = searchRef.current) !== null && _searchRef$current2 !== void 0 && _searchRef$current2.magnifier) {\n      var magnifier = searchRef.current.magnifier;\n      magnifier.addEventListener('click', focusInput);\n      return function () {\n        magnifier.removeEventListener('click', focusInput);\n      };\n    }\n  }, [expanded, searchRef]);\n  var classes = classnames(\"\".concat(prefix, \"--search--expandable\"), _defineProperty({}, \"\".concat(prefix, \"--search--expanded\"), expanded), props.className);\n  return /*#__PURE__*/React.createElement(Search, _extends({}, props, {\n    ref: searchRef,\n    className: classes,\n    onFocus: handleFocus,\n    onBlur: handleBlur\n  }));\n}\n\nExpandableSearch.propTypes = Search.propTypes;\nexport default ExpandableSearch;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}