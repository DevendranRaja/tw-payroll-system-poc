{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\n\n/**\n * Copyright IBM Corp. 2020\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport findLast from 'lodash.findlast';\nimport { settings } from 'carbon-components';\nimport { DOCUMENT_POSITION_BROAD_PRECEDING, DOCUMENT_POSITION_BROAD_FOLLOWING, selectorTabbable } from './keyboard/navigation';\nvar prefix = settings.prefix;\n/**\n * @param {Node} node A DOM node.\n * @param {string[]} selectorsFloatingMenus The CSS selectors that matches floating menus.\n * @returns {boolean} `true` of the given `node` is in a floating menu.\n */\n\nfunction elementOrParentIsFloatingMenu(node) {\n  var selectorsFloatingMenus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  if (node && typeof node.closest === 'function') {\n    var allSelectorsFloatingMenus = [\".\".concat(prefix, \"--overflow-menu-options\"), \".\".concat(prefix, \"--tooltip\"), '.flatpickr-calendar'].concat(_toConsumableArray(selectorsFloatingMenus));\n    return allSelectorsFloatingMenus.some(function (selector) {\n      return node.closest(selector);\n    });\n  }\n}\n/**\n * Ensures the focus is kept in the given `modalNode`, implementing \"focus-wrap\" behavior.\n * @param {object} options The options.\n * @param {Node} options.bodyNode\n * @param {Node} options.startTrapNode The DOM node of the focus sentinel the is placed earlier next to `modalNode`.\n * @param {Node} options.endTrapNode The DOM node of the focus sentinel the is placed next to `modalNode`.\n * @param {Node} options.currentActiveNode The DOM node that has focus.\n * @param {Node} options.oldActiveNode The DOM node that previously had focus.\n * @param {Node} [options.selectorsFloatingMenus] The CSS selectors that matches floating menus.\n */\n\nfunction wrapFocus(_ref) {\n  var bodyNode = _ref.bodyNode,\n    startTrapNode = _ref.startTrapNode,\n    endTrapNode = _ref.endTrapNode,\n    currentActiveNode = _ref.currentActiveNode,\n    oldActiveNode = _ref.oldActiveNode,\n    selectorsFloatingMenus = _ref.selectorsFloatingMenus;\n  if (bodyNode && currentActiveNode && oldActiveNode && !bodyNode.contains(currentActiveNode) && !elementOrParentIsFloatingMenu(currentActiveNode, selectorsFloatingMenus)) {\n    var comparisonResult = oldActiveNode.compareDocumentPosition(currentActiveNode);\n    if (currentActiveNode === startTrapNode || comparisonResult & DOCUMENT_POSITION_BROAD_PRECEDING) {\n      var tabbable = findLast(bodyNode.querySelectorAll(selectorTabbable), function (elem) {\n        return Boolean(elem.offsetParent);\n      });\n      if (tabbable) {\n        tabbable.focus();\n      } else if (bodyNode !== oldActiveNode) {\n        bodyNode.focus();\n      }\n    } else if (currentActiveNode === endTrapNode || comparisonResult & DOCUMENT_POSITION_BROAD_FOLLOWING) {\n      var _tabbable = Array.prototype.find.call(bodyNode.querySelectorAll(selectorTabbable), function (elem) {\n        return Boolean(elem.offsetParent);\n      });\n      if (_tabbable) {\n        _tabbable.focus();\n      } else if (bodyNode !== oldActiveNode) {\n        bodyNode.focus();\n      }\n    }\n  }\n}\nexport { elementOrParentIsFloatingMenu };\nexport default wrapFocus;","map":{"version":3,"names":["_toConsumableArray","findLast","settings","DOCUMENT_POSITION_BROAD_PRECEDING","DOCUMENT_POSITION_BROAD_FOLLOWING","selectorTabbable","prefix","elementOrParentIsFloatingMenu","node","selectorsFloatingMenus","arguments","length","undefined","closest","allSelectorsFloatingMenus","concat","some","selector","wrapFocus","_ref","bodyNode","startTrapNode","endTrapNode","currentActiveNode","oldActiveNode","contains","comparisonResult","compareDocumentPosition","tabbable","querySelectorAll","elem","Boolean","offsetParent","focus","_tabbable","Array","prototype","find","call"],"sources":["/Users/devendranraja/Downloads/one-payroll/client/node_modules/carbon-components-react/es/internal/wrapFocus.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\n\n/**\n * Copyright IBM Corp. 2020\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport findLast from 'lodash.findlast';\nimport { settings } from 'carbon-components';\nimport { DOCUMENT_POSITION_BROAD_PRECEDING, DOCUMENT_POSITION_BROAD_FOLLOWING, selectorTabbable } from './keyboard/navigation';\nvar prefix = settings.prefix;\n/**\n * @param {Node} node A DOM node.\n * @param {string[]} selectorsFloatingMenus The CSS selectors that matches floating menus.\n * @returns {boolean} `true` of the given `node` is in a floating menu.\n */\n\nfunction elementOrParentIsFloatingMenu(node) {\n  var selectorsFloatingMenus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (node && typeof node.closest === 'function') {\n    var allSelectorsFloatingMenus = [\".\".concat(prefix, \"--overflow-menu-options\"), \".\".concat(prefix, \"--tooltip\"), '.flatpickr-calendar'].concat(_toConsumableArray(selectorsFloatingMenus));\n    return allSelectorsFloatingMenus.some(function (selector) {\n      return node.closest(selector);\n    });\n  }\n}\n/**\n * Ensures the focus is kept in the given `modalNode`, implementing \"focus-wrap\" behavior.\n * @param {object} options The options.\n * @param {Node} options.bodyNode\n * @param {Node} options.startTrapNode The DOM node of the focus sentinel the is placed earlier next to `modalNode`.\n * @param {Node} options.endTrapNode The DOM node of the focus sentinel the is placed next to `modalNode`.\n * @param {Node} options.currentActiveNode The DOM node that has focus.\n * @param {Node} options.oldActiveNode The DOM node that previously had focus.\n * @param {Node} [options.selectorsFloatingMenus] The CSS selectors that matches floating menus.\n */\n\n\nfunction wrapFocus(_ref) {\n  var bodyNode = _ref.bodyNode,\n      startTrapNode = _ref.startTrapNode,\n      endTrapNode = _ref.endTrapNode,\n      currentActiveNode = _ref.currentActiveNode,\n      oldActiveNode = _ref.oldActiveNode,\n      selectorsFloatingMenus = _ref.selectorsFloatingMenus;\n\n  if (bodyNode && currentActiveNode && oldActiveNode && !bodyNode.contains(currentActiveNode) && !elementOrParentIsFloatingMenu(currentActiveNode, selectorsFloatingMenus)) {\n    var comparisonResult = oldActiveNode.compareDocumentPosition(currentActiveNode);\n\n    if (currentActiveNode === startTrapNode || comparisonResult & DOCUMENT_POSITION_BROAD_PRECEDING) {\n      var tabbable = findLast(bodyNode.querySelectorAll(selectorTabbable), function (elem) {\n        return Boolean(elem.offsetParent);\n      });\n\n      if (tabbable) {\n        tabbable.focus();\n      } else if (bodyNode !== oldActiveNode) {\n        bodyNode.focus();\n      }\n    } else if (currentActiveNode === endTrapNode || comparisonResult & DOCUMENT_POSITION_BROAD_FOLLOWING) {\n      var _tabbable = Array.prototype.find.call(bodyNode.querySelectorAll(selectorTabbable), function (elem) {\n        return Boolean(elem.offsetParent);\n      });\n\n      if (_tabbable) {\n        _tabbable.focus();\n      } else if (bodyNode !== oldActiveNode) {\n        bodyNode.focus();\n      }\n    }\n  }\n}\n\nexport { elementOrParentIsFloatingMenu };\nexport default wrapFocus;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}