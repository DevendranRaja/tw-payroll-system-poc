/*
 * MIT License
 *
 * Copyright (c) 2019 RÃ©mi Van Keisbelck
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
import { ok, err } from './Result';
import { just, nothing } from './Maybe';
import { expect, test } from "vitest";
test('ok map', () => {
    expect(ok(1).map((v) => v + 1)).toEqual(ok(2));
});
test('err map', () => {
    expect(err('boom').map((v) => v + 1)).toEqual(err('boom'));
});
test('ok mapError', () => {
    expect(ok(1).mapError((e) => 'boom')).toEqual(ok(1));
});
test('err mapError', () => {
    expect(err('boom').mapError((err) => err + 'boom')).toEqual(err('boomboom'));
});
test('ok toMaybe', () => {
    expect(ok(1).toMaybe()).toEqual(just(1));
});
test('err toMaybe', () => {
    expect(err('boom').toMaybe()).toEqual(nothing);
});
test('ok match', () => {
    expect(ok(1).match((v) => v + 1, (err) => 13)).toEqual(2);
});
test('err match', () => {
    expect(err('boom').match((v) => 1, (err) => 13)).toEqual(13);
});
test('ok withDefault', () => {
    expect(ok(1).withDefault(13)).toEqual(1);
});
test('err withDefault', () => {
    expect(err('boom').withDefault(13)).toEqual(13);
});
test('ok andThen ok', () => {
    expect(ok(1).andThen((v) => ok(v + 1))).toEqual(ok(2));
});
test('ok andThen err', () => {
    expect(ok(1).andThen((v) => err('boom'))).toEqual(err('boom'));
});
test('err andThen', () => {
    expect(err('boom').andThen((v) => ok(13))).toEqual(err('boom'));
});
test('ok withDefaultSupply', () => {
    expect(ok(1).withDefaultSupply(() => 13)).toEqual(1);
});
test('err withDefaultSupply', () => {
    expect(err('boom').withDefaultSupply(() => 'hello')).toEqual('hello');
});
test('ok orElse', () => {
    expect(ok(1).orElse((err) => ok(13))).toEqual(ok(1));
});
test('err orElse', () => {
    expect(err('boom').orElse(() => ok(13))).toEqual(ok(13));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVzdWx0LnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvVGVhQ3VwL1Jlc3VsdC50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXVCRztBQUVILE9BQU8sRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBQ25DLE9BQU8sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBQ3hDLE9BQU8sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBRXRDLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFO0lBQ2xCLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDakQsQ0FBQyxDQUFDLENBQUM7QUFFSCxJQUFJLENBQUMsU0FBUyxFQUFFLEdBQUcsRUFBRTtJQUNuQixNQUFNLENBQUMsR0FBRyxDQUFpQixNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUM3RSxDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQyxhQUFhLEVBQUUsR0FBRyxFQUFFO0lBQ3ZCLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN2RCxDQUFDLENBQUMsQ0FB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QUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ2xFLENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLHNCQUFzQixFQUFFLEdBQUcsRUFBRTtJQUNoQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3ZELENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLHVCQUF1QixFQUFFLEdBQUcsRUFBRTtJQUNqQyxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3hFLENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUU7SUFDckIsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3ZELENBQUMsQ0FBQyxDQUFDO0FBRUgsSUFBSSxDQUFDLFlBQVksRUFBRSxHQUFHLEVBQUU7SUFDdEIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDM0QsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogTUlUIExpY2Vuc2VcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTkgUsOpbWkgVmFuIEtlaXNiZWxja1xuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGxcbiAqIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxuICogU09GVFdBUkUuXG4gKlxuICovXG5cbmltcG9ydCB7IG9rLCBlcnIgfSBmcm9tICcuL1Jlc3VsdCc7XG5pbXBvcnQgeyBqdXN0LCBub3RoaW5nIH0gZnJvbSAnLi9NYXliZSc7XG5pbXBvcnQgeyBleHBlY3QsIHRlc3QgfSBmcm9tIFwidml0ZXN0XCI7XG5cbnRlc3QoJ29rIG1hcCcsICgpID0+IHtcbiAgZXhwZWN0KG9rKDEpLm1hcCgodikgPT4gdiArIDEpKS50b0VxdWFsKG9rKDIpKTtcbn0pO1xuXG50ZXN0KCdlcnIgbWFwJywgKCkgPT4ge1xuICBleHBlY3QoZXJyPHN0cmluZywgbnVtYmVyPignYm9vbScpLm1hcCgodikgPT4gdiArIDEpKS50b0VxdWFsKGVycignYm9vbScpKTtcbn0pO1xuXG50ZXN0KCdvayBtYXBFcnJvcicsICgpID0+IHtcbiAgZXhwZWN0KG9rKDEpLm1hcEVycm9yKChlKSA9PiAnYm9vbScpKS50b0VxdWFsKG9rKDEpKTtcbn0pO1xuXG50ZXN0KCdlcnIgbWFwRXJyb3InLCAoKSA9PiB7XG4gIGV4cGVjdChlcnI8c3RyaW5nLCBudW1iZXI+KCdib29tJykubWFwRXJyb3IoKGVycikgPT4gZXJyICsgJ2Jvb20nKSkudG9FcXVhbChlcnIoJ2Jvb21ib29tJykpO1xufSk7XG5cbnRlc3QoJ29rIHRvTWF5YmUnLCAoKSA9PiB7XG4gIGV4cGVjdChvaygxKS50b01heWJlKCkpLnRvRXF1YWwoanVzdCgxKSk7XG59KTtcblxudGVzdCgnZXJyIHRvTWF5YmUnLCAoKSA9PiB7XG4gIGV4cGVjdChlcnI8c3RyaW5nLCBudW1iZXI+KCdib29tJykudG9NYXliZSgpKS50b0VxdWFsKG5vdGhpbmcpO1xufSk7XG5cbnRlc3QoJ29rIG1hdGNoJywgKCkgPT4ge1xuICBleHBlY3QoXG4gICAgb2soMSkubWF0Y2goXG4gICAgICAodikgPT4gdiArIDEsXG4gICAgICAoZXJyKSA9PiAxMyxcbiAgICApLFxuICApLnRvRXF1YWwoMik7XG59KTtcblxudGVzdCgnZXJyIG1hdGNoJywgKCkgPT4ge1xuICBleHBlY3QoXG4gICAgZXJyKCdib29tJykubWF0Y2goXG4gICAgICAodikgPT4gMSxcbiAgICAgIChlcnIpID0+IDEzLFxuICAgICksXG4gICkudG9FcXVhbCgxMyk7XG59KTtcblxudGVzdCgnb2sgd2l0aERlZmF1bHQnLCAoKSA9PiB7XG4gIGV4cGVjdChvaygxKS53aXRoRGVmYXVsdCgxMykpLnRvRXF1YWwoMSk7XG59KTtcblxudGVzdCgnZXJyIHdpdGhEZWZhdWx0JywgKCkgPT4ge1xuICBleHBlY3QoZXJyKCdib29tJykud2l0aERlZmF1bHQoMTMpKS50b0VxdWFsKDEzKTtcbn0pO1xuXG50ZXN0KCdvayBhbmRUaGVuIG9rJywgKCkgPT4ge1xuICBleHBlY3Qob2soMSkuYW5kVGhlbigodikgPT4gb2sodiArIDEpKSkudG9FcXVhbChvaygyKSk7XG59KTtcblxudGVzdCgnb2sgYW5kVGhlbiBlcnInLCAoKSA9PiB7XG4gIGV4cGVjdChvaygxKS5hbmRUaGVuKCh2KSA9PiBlcnIoJ2Jvb20nKSkpLnRvRXF1YWwoZXJyKCdib29tJykpO1xufSk7XG5cbnRlc3QoJ2VyciBhbmRUaGVuJywgKCkgPT4ge1xuICBleHBlY3QoZXJyKCdib29tJykuYW5kVGhlbigodikgPT4gb2soMTMpKSkudG9FcXVhbChlcnIoJ2Jvb20nKSk7XG59KTtcblxudGVzdCgnb2sgd2l0aERlZmF1bHRTdXBwbHknLCAoKSA9PiB7XG4gIGV4cGVjdChvaygxKS53aXRoRGVmYXVsdFN1cHBseSgoKSA9PiAxMykpLnRvRXF1YWwoMSk7XG59KTtcblxudGVzdCgnZXJyIHdpdGhEZWZhdWx0U3VwcGx5JywgKCkgPT4ge1xuICBleHBlY3QoZXJyKCdib29tJykud2l0aERlZmF1bHRTdXBwbHkoKCkgPT4gJ2hlbGxvJykpLnRvRXF1YWwoJ2hlbGxvJyk7XG59KTtcblxudGVzdCgnb2sgb3JFbHNlJywgKCkgPT4ge1xuICBleHBlY3Qob2soMSkub3JFbHNlKChlcnIpID0+IG9rKDEzKSkpLnRvRXF1YWwob2soMSkpO1xufSk7XG5cbnRlc3QoJ2VyciBvckVsc2UnLCAoKSA9PiB7XG4gIGV4cGVjdChlcnIoJ2Jvb20nKS5vckVsc2UoKCkgPT4gb2soMTMpKSkudG9FcXVhbChvaygxMykpO1xufSk7XG4iXX0=