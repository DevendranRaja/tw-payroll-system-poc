/*
 * MIT License
 *
 * Copyright (c) 2019 RÃ©mi Van Keisbelck
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
import { just, nothing } from './Maybe';
/**
 * Immutable list of data
 */
export class List {
    constructor(elems) {
        this.elems = [...elems];
    }
    static fromArray(ts) {
        if (ts.length === 0) {
            return List.empty();
        }
        else {
            return new List(ts);
        }
    }
    static empty() {
        return new List([]);
    }
    head() {
        if (this.length() === 0) {
            return nothing;
        }
        else {
            return just(this.elems[0]);
        }
    }
    length() {
        return this.elems.length;
    }
    tail() {
        if (this.length() <= 1) {
            return new List([]);
        }
        else {
            const tailArray = [...this.elems];
            tailArray.shift();
            return new List(tailArray);
        }
    }
    toArray() {
        return [...this.elems];
    }
    map(f) {
        return new List(this.elems.map(f));
    }
    mapWithIndex(f) {
        return new List(this.elems.map(f));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTGlzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9UZWFDdXAvTGlzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0F1Qkc7QUFFSCxPQUFPLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBUyxNQUFNLFNBQVMsQ0FBQztBQUUvQzs7R0FFRztBQUNILE1BQU0sT0FBTyxJQUFJO0lBR2YsWUFBb0IsS0FBZTtRQUNqQyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRUQsTUFBTSxDQUFDLFNBQVMsQ0FBSSxFQUFZO1FBQzlCLElBQUksRUFBRSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUNwQixPQUFPLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUN0QixDQUFDO2FBQU0sQ0FBQztZQUNOLE9BQU8sSUFBSSxJQUFJLENBQUksRUFBRSxDQUFDLENBQUM7UUFDekIsQ0FBQztJQUNILENBQUM7SUFFRCxNQUFNLENBQUMsS0FBSztRQUNWLE9BQU8sSUFBSSxJQUFJLENBQUksRUFBRSxDQUFDLENBQUM7SUFDekIsQ0FBQztJQUVELElBQUk7UUFDRixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUN4QixPQUFPLE9BQU8sQ0FBQztRQUNqQixDQUFDO2FBQU0sQ0FBQztZQUNOLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3QixDQUFDO0lBQ0gsQ0FBQztJQUVELE1BQU07UUFDSixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBQzNCLENBQUM7SUFFRCxJQUFJO1FBQ0YsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUM7WUFDdkIsT0FBTyxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN0QixDQUFDO2FBQU0sQ0FBQztZQUNOLE1BQU0sU0FBUyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbEMsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ2xCLE9BQU8sSUFBSSxJQUFJLENBQUksU0FBUyxDQUFDLENBQUM7UUFDaEMsQ0FBQztJQUNILENBQUM7SUFFRCxPQUFPO1FBQ0wsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3pCLENBQUM7SUFFRCxHQUFHLENBQUssQ0FBZTtRQUNyQixPQUFPLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVELFlBQVksQ0FBSyxDQUEwQjtRQUN6QyxPQUFPLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckMsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIE1JVCBMaWNlbnNlXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE5IFLDqW1pIFZhbiBLZWlzYmVsY2tcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG4gKiBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAqIFNPRlRXQVJFLlxuICpcbiAqL1xuXG5pbXBvcnQgeyBqdXN0LCBub3RoaW5nLCBNYXliZSB9IGZyb20gJy4vTWF5YmUnO1xuXG4vKipcbiAqIEltbXV0YWJsZSBsaXN0IG9mIGRhdGFcbiAqL1xuZXhwb3J0IGNsYXNzIExpc3Q8VD4ge1xuICBwcml2YXRlIHJlYWRvbmx5IGVsZW1zOiBBcnJheTxUPjtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKGVsZW1zOiBBcnJheTxUPikge1xuICAgIHRoaXMuZWxlbXMgPSBbLi4uZWxlbXNdO1xuICB9XG5cbiAgc3RhdGljIGZyb21BcnJheTxUPih0czogQXJyYXk8VD4pOiBMaXN0PFQ+IHtcbiAgICBpZiAodHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gTGlzdC5lbXB0eSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IExpc3Q8VD4odHMpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBlbXB0eTxUPigpOiBMaXN0PFQ+IHtcbiAgICByZXR1cm4gbmV3IExpc3Q8VD4oW10pO1xuICB9XG5cbiAgaGVhZCgpOiBNYXliZTxUPiB7XG4gICAgaWYgKHRoaXMubGVuZ3RoKCkgPT09IDApIHtcbiAgICAgIHJldHVybiBub3RoaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ganVzdCh0aGlzLmVsZW1zWzBdKTtcbiAgICB9XG4gIH1cblxuICBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtcy5sZW5ndGg7XG4gIH1cblxuICB0YWlsKCk6IExpc3Q8VD4ge1xuICAgIGlmICh0aGlzLmxlbmd0aCgpIDw9IDEpIHtcbiAgICAgIHJldHVybiBuZXcgTGlzdChbXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRhaWxBcnJheSA9IFsuLi50aGlzLmVsZW1zXTtcbiAgICAgIHRhaWxBcnJheS5zaGlmdCgpO1xuICAgICAgcmV0dXJuIG5ldyBMaXN0PFQ+KHRhaWxBcnJheSk7XG4gICAgfVxuICB9XG5cbiAgdG9BcnJheSgpOiBBcnJheTxUPiB7XG4gICAgcmV0dXJuIFsuLi50aGlzLmVsZW1zXTtcbiAgfVxuXG4gIG1hcDxUMj4oZjogKHQ6IFQpID0+IFQyKTogTGlzdDxUMj4ge1xuICAgIHJldHVybiBuZXcgTGlzdCh0aGlzLmVsZW1zLm1hcChmKSk7XG4gIH1cblxuICBtYXBXaXRoSW5kZXg8VDI+KGY6ICh0OiBULCBpOiBudW1iZXIpID0+IFQyKTogTGlzdDxUMj4ge1xuICAgIHJldHVybiBuZXcgTGlzdCh0aGlzLmVsZW1zLm1hcChmKSk7XG4gIH1cbn1cbiJdfQ==