import { Maybe, Tuple } from 'tea-cup-core';
import { JsonValue } from './JsonValue';
import { JsPath } from './JsPath';
import * as TPM from 'tea-pop-menu';
import { MenuAction } from './ContextMenuActions';
import { JsValidationError, JsValidationResult } from '@diesel-parser/json-schema-facade-ts';
import { TFunction } from 'i18next';
export interface Model {
    readonly schema: Maybe<Tuple<any, JsonValue>>;
    readonly root: Tuple<any, JsonValue>;
    readonly validationResult: Maybe<JsValidationResult>;
    readonly errors: ReadonlyMap<string, ReadonlyArray<JsValidationError>>;
    readonly adding: Maybe<AddingState>;
    readonly menuModel: Maybe<TPM.Model<MenuAction>>;
    readonly collapsedPaths: ReadonlySet<string>;
    readonly propertiesToAdd: ReadonlyMap<string, ReadonlyArray<string>>;
    readonly comboBoxes: ReadonlyMap<string, ReadonlyArray<string>>;
    readonly formats: ReadonlyMap<string, ReadonlyArray<string>>;
    readonly t: TFunction;
    readonly lang: string;
    readonly strictMode: boolean;
    readonly customRenderers: ReadonlyMap<string, Maybe<CustomRendererModel>>;
    readonly debounceMs: number;
}
export interface CustomRendererModel {
    readonly key: string;
    readonly rendererModel: any;
}
export interface AddingState {
    readonly ownerPath: JsPath;
    readonly addingPropName: string;
    readonly isDuplicate: boolean;
}
export declare function doValidate(model: Model): Model;
export declare function computeErrors(model: Model): Model;
export declare function computePropertiesToAdd(model: Model): Model;
export declare function computeStringsMetadata(model: Model): Model;
export declare function initialModel(lang: string, schema: Maybe<JsonValue>, root: JsonValue, strictMode: boolean, debounceMs: number): Model;
export declare function computeAll(model: Model): Model;
export declare function updateAddingPropertyName(model: Model, propName: string): Model;
export declare function getProposals(validationResult: JsValidationResult, path: JsPath, depth: number): ReadonlyArray<JsonValue>;
export declare function getFormats(validationResult: JsValidationResult, path: JsPath): ReadonlyArray<string>;
