"use strict";
/*
 * Copyright 2018 The Diesel Authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", { value: true });
const JsonValue_1 = require("./JsonValue");
const tea_cup_core_1 = require("tea-cup-core");
const JsPath_1 = require("./JsPath");
describe('JsonValue', () => {
    test('should parse from str', () => {
        expect((0, JsonValue_1.parseJsonValue)('null')).toEqual((0, tea_cup_core_1.ok)(JsonValue_1.jvNull));
        expect((0, JsonValue_1.parseJsonValue)('123')).toEqual((0, tea_cup_core_1.ok)((0, JsonValue_1.jvNumber)('123')));
        expect((0, JsonValue_1.parseJsonValue)('true')).toEqual((0, tea_cup_core_1.ok)((0, JsonValue_1.jvBool)(true)));
        expect((0, JsonValue_1.parseJsonValue)('"yalla"')).toEqual((0, tea_cup_core_1.ok)((0, JsonValue_1.jvString)('yalla')));
        expect((0, JsonValue_1.parseJsonValue)(JSON.stringify({ foo: 'bar' }))).toEqual((0, tea_cup_core_1.ok)((0, JsonValue_1.jvObject)([{ name: 'foo', value: (0, JsonValue_1.jvString)('bar') }])));
        expect((0, JsonValue_1.parseJsonValue)(JSON.stringify([1, 2, 3]))).toEqual((0, tea_cup_core_1.ok)((0, JsonValue_1.jvArray)([(0, JsonValue_1.jvNumber)('1'), (0, JsonValue_1.jvNumber)('2'), (0, JsonValue_1.jvNumber)('3')])));
    });
    describe('should convert', () => {
        test('from any', () => {
            expect((0, JsonValue_1.valueFromAny)(null)).toEqual((0, tea_cup_core_1.ok)(JsonValue_1.jvNull));
            expect((0, JsonValue_1.valueFromAny)(123)).toEqual((0, tea_cup_core_1.ok)((0, JsonValue_1.jvNumber)('123')));
            expect((0, JsonValue_1.valueFromAny)(true)).toEqual((0, tea_cup_core_1.ok)((0, JsonValue_1.jvBool)(true)));
            expect((0, JsonValue_1.valueFromAny)('yalla')).toEqual((0, tea_cup_core_1.ok)((0, JsonValue_1.jvString)('yalla')));
            expect((0, JsonValue_1.valueFromAny)({ foo: 'bar' })).toEqual((0, tea_cup_core_1.ok)((0, JsonValue_1.jvObject)([{ name: 'foo', value: (0, JsonValue_1.jvString)('bar') }])));
            expect((0, JsonValue_1.valueFromAny)([1, { foo: 'bar' }, [2, 3]])).toEqual((0, tea_cup_core_1.ok)((0, JsonValue_1.jvArray)([
                (0, JsonValue_1.jvNumber)('1'),
                (0, JsonValue_1.jvObject)([
                    {
                        name: 'foo',
                        value: (0, JsonValue_1.jvString)('bar'),
                    },
                ]),
                (0, JsonValue_1.jvArray)([(0, JsonValue_1.jvNumber)('2'), (0, JsonValue_1.jvNumber)('3')]),
            ])));
        });
        test('invalid number converts to string', () => {
            expect((0, JsonValue_1.valueToAny)((0, JsonValue_1.jvNumber)('yalla'))).toEqual('yalla');
        });
        test('number roundtrip', () => {
            (0, JsonValue_1.valueFromAny)(123).match((v) => {
                expect(v).toEqual((0, JsonValue_1.jvNumber)('123'));
                const a = (0, JsonValue_1.valueToAny)(v);
                expect(a).toEqual(123);
            }, (err) => {
                fail(err);
            });
        });
        test('to any', () => {
            expect((0, JsonValue_1.valueToAny)(JsonValue_1.jvNull)).toEqual(null);
            expect((0, JsonValue_1.valueToAny)((0, JsonValue_1.jvNumber)('123'))).toEqual(123);
            expect((0, JsonValue_1.valueToAny)((0, JsonValue_1.jvString)('yalla'))).toEqual('yalla');
            expect((0, JsonValue_1.valueToAny)((0, JsonValue_1.jvBool)(true))).toEqual(true);
            expect((0, JsonValue_1.valueToAny)((0, JsonValue_1.jvArray)([(0, JsonValue_1.jvNumber)('1'), (0, JsonValue_1.jvNumber)('2')]))).toEqual([
                1, 2,
            ]);
            expect((0, JsonValue_1.valueToAny)((0, JsonValue_1.jvObject)([
                { name: 'foo', value: (0, JsonValue_1.jvString)('bar') },
                {
                    name: 'blah',
                    value: (0, JsonValue_1.jvObject)([
                        {
                            name: 'baz',
                            value: (0, JsonValue_1.jvArray)([(0, JsonValue_1.jvBool)(true), (0, JsonValue_1.jvNumber)('999')]),
                        },
                    ]),
                },
            ]))).toEqual({
                foo: 'bar',
                blah: {
                    baz: [true, 999],
                },
            });
        });
    });
    function valueFromAnyThrow(value) {
        const v = (0, JsonValue_1.valueFromAny)(value);
        switch (v.tag) {
            case 'Err': {
                throw new Error(v.err);
            }
            case 'Ok': {
                return v.value;
            }
        }
    }
    describe('can be queried', () => {
        test('at root', () => {
            expect((0, JsonValue_1.getValueAt)(JsonValue_1.jvNull, JsPath_1.JsPath.empty)).toEqual((0, tea_cup_core_1.just)(JsonValue_1.jvNull));
        });
        test('1st level prop', () => {
            expect((0, JsonValue_1.getValueAt)(valueFromAnyThrow({
                foo: 'bar',
                blah: 1,
                zzz: true,
            }), JsPath_1.JsPath.parse('foo'))).toEqual((0, tea_cup_core_1.just)((0, JsonValue_1.jvString)('bar')));
        });
        test('1st level array', () => {
            expect((0, JsonValue_1.getValueAt)(valueFromAnyThrow([1, true, 'yalla']), JsPath_1.JsPath.parse('2'))).toEqual((0, tea_cup_core_1.just)((0, JsonValue_1.jvString)('yalla')));
        });
        test('deeply nested', () => {
            const myObj = valueFromAnyThrow({
                a: {
                    b: {
                        c: {
                            d: [
                                1,
                                {
                                    foo: 'bar',
                                },
                                2,
                            ],
                            d2: 'yolo',
                        },
                    },
                    b2: true,
                },
                a2: 'yalla',
            });
            expect((0, JsonValue_1.getValueAt)(myObj, JsPath_1.JsPath.parse('a/b/c'))).toEqual((0, tea_cup_core_1.just)(valueFromAnyThrow({
                d: [
                    1,
                    {
                        foo: 'bar',
                    },
                    2,
                ],
                d2: 'yolo',
            })));
            expect((0, JsonValue_1.getValueAt)(myObj, JsPath_1.JsPath.parse('a/b/c/d/1/foo'))).toEqual((0, tea_cup_core_1.just)((0, JsonValue_1.jvString)('bar')));
        });
    });
    describe('can be updated', () => {
        test('at root', () => {
            expect((0, JsonValue_1.setValueAt)(JsonValue_1.jvNull, JsPath_1.JsPath.empty, (0, JsonValue_1.jvNumber)('123'))).toEqual((0, JsonValue_1.jvNumber)('123'));
        });
        test('1st level prop', () => {
            expect((0, JsonValue_1.setValueAt)((0, JsonValue_1.jvObject)([
                { name: 'foo', value: (0, JsonValue_1.jvNumber)('12') },
                { name: 'bar', value: (0, JsonValue_1.jvNumber)('13') },
            ]), JsPath_1.JsPath.empty.append('foo'), (0, JsonValue_1.jvBool)(true))).toEqual((0, JsonValue_1.jvObject)([
                { name: 'foo', value: (0, JsonValue_1.jvBool)(true) },
                { name: 'bar', value: (0, JsonValue_1.jvNumber)('13') },
            ]));
        });
        test('1st level array', () => {
            expect((0, JsonValue_1.setValueAt)((0, JsonValue_1.jvArray)([(0, JsonValue_1.jvNumber)('12'), (0, JsonValue_1.jvNumber)('13'), (0, JsonValue_1.jvNumber)('14')]), JsPath_1.JsPath.empty.append(1), (0, JsonValue_1.jvString)('yalla'))).toEqual((0, JsonValue_1.jvArray)([(0, JsonValue_1.jvNumber)('12'), (0, JsonValue_1.jvString)('yalla'), (0, JsonValue_1.jvNumber)('14')]));
        });
        test('deeply nested', () => {
            const myObj = valueFromAnyThrow({
                a: {
                    b: {
                        c: {
                            d: [
                                1,
                                {
                                    foo: 'bar',
                                },
                                2,
                            ],
                        },
                    },
                    b2: true,
                },
                a2: 'yalla',
            });
            const expected = valueFromAnyThrow({
                a: {
                    b: {
                        c: {
                            d: [
                                1,
                                {
                                    foo: 999,
                                },
                                2,
                            ],
                        },
                    },
                    b2: true,
                },
                a2: 'yalla',
            });
            expect((0, JsonValue_1.setValueAt)(myObj, JsPath_1.JsPath.parse('a/b/c/d/1/foo'), (0, JsonValue_1.jvNumber)('999'))).toEqual(expected);
        });
    });
    describe('can be mapped', () => {
        test('root', () => {
            expect((0, JsonValue_1.mapValueAt)(JsonValue_1.jvNull, JsPath_1.JsPath.empty, () => (0, tea_cup_core_1.just)((0, JsonValue_1.jvNumber)('123')))).toEqual((0, tea_cup_core_1.just)((0, JsonValue_1.jvNumber)('123')));
        });
        test('root delete', () => {
            expect((0, JsonValue_1.deleteValueAt)(JsonValue_1.jvNull, JsPath_1.JsPath.empty)).toEqual(tea_cup_core_1.nothing);
        });
        const root1 = (0, JsonValue_1.jvObject)([
            { name: 'foo', value: (0, JsonValue_1.jvString)('bar') },
            { name: 'blah', value: (0, JsonValue_1.jvString)('yalla') },
        ]);
        test('1st level prop', () => {
            expect((0, JsonValue_1.mapValueAt)(root1, JsPath_1.JsPath.parse('foo'), () => (0, tea_cup_core_1.just)((0, JsonValue_1.jvNumber)('123')))).toEqual((0, tea_cup_core_1.just)((0, JsonValue_1.jvObject)([
                { name: 'foo', value: (0, JsonValue_1.jvNumber)('123') },
                { name: 'blah', value: (0, JsonValue_1.jvString)('yalla') },
            ])));
        });
        test('1st level prop delete', () => {
            expect((0, JsonValue_1.deleteValueAt)(root1, JsPath_1.JsPath.parse('foo'))).toEqual((0, tea_cup_core_1.just)((0, JsonValue_1.jvObject)([{ name: 'blah', value: (0, JsonValue_1.jvString)('yalla') }])));
        });
        const root2 = (0, JsonValue_1.jvArray)([(0, JsonValue_1.jvNumber)('123'), (0, JsonValue_1.jvString)('foo'), JsonValue_1.jvNull]);
        test('1st level array', () => {
            expect((0, JsonValue_1.mapValueAt)(root2, JsPath_1.JsPath.parse('1'), () => (0, tea_cup_core_1.just)((0, JsonValue_1.jvBool)(true)))).toEqual((0, tea_cup_core_1.just)((0, JsonValue_1.jvArray)([(0, JsonValue_1.jvNumber)('123'), (0, JsonValue_1.jvBool)(true), JsonValue_1.jvNull])));
        });
        test('1st level array delete', () => {
            expect((0, JsonValue_1.deleteValueAt)(root2, JsPath_1.JsPath.parse('1'))).toEqual((0, tea_cup_core_1.just)((0, JsonValue_1.jvArray)([(0, JsonValue_1.jvNumber)('123'), JsonValue_1.jvNull])));
        });
        const root3 = valueFromAnyThrow({
            a: {
                b: {
                    c: {
                        d: [
                            1,
                            {
                                foo: 'bar',
                            },
                            2,
                        ],
                    },
                },
                b2: true,
            },
            a2: 'yalla',
        });
        test('deeply nested', () => {
            const mapped = (0, JsonValue_1.mapValueAt)(root3, JsPath_1.JsPath.parse('a/b/c/d/1/foo'), () => (0, tea_cup_core_1.just)(JsonValue_1.jvNull));
            expect(mapped).toEqual((0, tea_cup_core_1.just)(valueFromAnyThrow({
                a: {
                    b: {
                        c: {
                            d: [
                                1,
                                {
                                    foo: null,
                                },
                                2,
                            ],
                        },
                    },
                    b2: true,
                },
                a2: 'yalla',
            })));
        });
        test('deeply nested delete', () => {
            expect((0, JsonValue_1.deleteValueAt)(root3, JsPath_1.JsPath.parse('a/b/c/d/1/foo'))).toEqual((0, tea_cup_core_1.just)(valueFromAnyThrow({
                a: {
                    b: {
                        c: {
                            d: [1, {}, 2],
                        },
                    },
                    b2: true,
                },
                a2: 'yalla',
            })));
        });
    });
    describe('should move', () => {
        test('props', () => {
            const v = valueFromAnyThrow({
                a: 1,
                b: 2,
                c: 3,
            });
            expect((0, JsonValue_1.moveProperty)(v, JsPath_1.JsPath.empty, 'b', 'up')).toEqual(valueFromAnyThrow({
                b: 2,
                a: 1,
                c: 3,
            }));
            expect((0, JsonValue_1.moveProperty)(v, JsPath_1.JsPath.empty, 'b', 'down')).toEqual(valueFromAnyThrow({
                a: 1,
                c: 3,
                b: 2,
            }));
            expect((0, JsonValue_1.moveProperty)(v, JsPath_1.JsPath.empty, 'a', 'up')).toEqual(valueFromAnyThrow({
                a: 1,
                b: 2,
                c: 3,
            }));
            expect((0, JsonValue_1.moveProperty)(v, JsPath_1.JsPath.empty, 'c', 'down')).toEqual(valueFromAnyThrow({
                a: 1,
                b: 2,
                c: 3,
            }));
            expect((0, JsonValue_1.moveProperty)(v, JsPath_1.JsPath.empty, 'c', 'up')).toEqual(valueFromAnyThrow({
                a: 1,
                c: 3,
                b: 2,
            }));
            expect((0, JsonValue_1.moveProperty)(v, JsPath_1.JsPath.empty, 'not-existing', 'up')).toEqual(v);
        });
        test('arrays', () => {
            const v = valueFromAnyThrow([1, 2, 3]);
            expect((0, JsonValue_1.moveElement)(v, JsPath_1.JsPath.empty, 1, 'up')).toEqual(valueFromAnyThrow([2, 1, 3]));
            expect((0, JsonValue_1.moveElement)(v, JsPath_1.JsPath.empty, 1, 'down')).toEqual(valueFromAnyThrow([1, 3, 2]));
            expect((0, JsonValue_1.moveElement)(v, JsPath_1.JsPath.empty, 0, 'up')).toEqual(valueFromAnyThrow([1, 2, 3]));
            expect((0, JsonValue_1.moveElement)(v, JsPath_1.JsPath.empty, 2, 'down')).toEqual(valueFromAnyThrow([1, 2, 3]));
            expect((0, JsonValue_1.moveElement)(v, JsPath_1.JsPath.empty, 999, 'up')).toEqual(v);
        });
    });
    test('objects can be merged', () => {
        const o1 = valueFromAnyThrow({
            a: 1,
            c: 3,
        });
        const o2 = valueFromAnyThrow({
            a: 2,
            b: 2,
        });
        expect((0, JsonValue_1.mergeProperties)(o1, o2)).toEqual(valueFromAnyThrow({
            a: 2,
            b: 2,
            c: 3,
        }));
        expect((0, JsonValue_1.mergeProperties)(o2, o1)).toEqual(valueFromAnyThrow({
            a: 1,
            c: 3,
            b: 2,
        }));
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSnNvblZhbHVlLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvSnNvblZhbHVlLnRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7OztHQWNHOztBQUVILDJDQW1CcUI7QUFDckIsK0NBQWlEO0FBQ2pELHFDQUFrQztBQUVsQyxRQUFRLENBQUMsV0FBVyxFQUFFLEdBQUcsRUFBRTtJQUN6QixJQUFJLENBQUMsdUJBQXVCLEVBQUUsR0FBRyxFQUFFO1FBQ2pDLE1BQU0sQ0FBQyxJQUFBLDBCQUFjLEVBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBQSxpQkFBRSxFQUFDLGtCQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ25ELE1BQU0sQ0FBQyxJQUFBLDBCQUFjLEVBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBQSxpQkFBRSxFQUFDLElBQUEsb0JBQVEsRUFBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0QsTUFBTSxDQUFDLElBQUEsMEJBQWMsRUFBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFBLGlCQUFFLEVBQUMsSUFBQSxrQkFBTSxFQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6RCxNQUFNLENBQUMsSUFBQSwwQkFBYyxFQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUEsaUJBQUUsRUFBQyxJQUFBLG9CQUFRLEVBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pFLE1BQU0sQ0FBQyxJQUFBLDBCQUFjLEVBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQzVELElBQUEsaUJBQUUsRUFBQyxJQUFBLG9CQUFRLEVBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUEsb0JB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LENBQUM7WUFDSixDQUFDLEVBQUUsQ0FBQztZQUNKLENBQUMsRUFBRSxDQUFDO1NBQ0wsQ0FBQyxDQUNILENBQUM7UUFDRixNQUFNLENBQUMsSUFBQSwyQkFBZSxFQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FDckMsaUJBQWlCLENBQUM7WUFDaEIsQ0FBQyxFQUFFLENBQUM7WUFDSixDQUFDLEVBQUUsQ0FBQztZQUNKLENBQUMsRUFBRSxDQUFDO1NBQ0wsQ0FBQyxDQUNILENBQUM7SUFDSixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBEaWVzZWwgQXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBkZWxldGVWYWx1ZUF0LFxuICBnZXRWYWx1ZUF0LFxuICBKc29uVmFsdWUsXG4gIGp2QXJyYXksXG4gIGp2Qm9vbCxcbiAganZOdWxsLFxuICBqdk51bWJlcixcbiAgSnZPYmplY3QsXG4gIGp2T2JqZWN0LFxuICBqdlN0cmluZyxcbiAgbWFwVmFsdWVBdCxcbiAgbWVyZ2VQcm9wZXJ0aWVzLFxuICBtb3ZlRWxlbWVudCxcbiAgbW92ZVByb3BlcnR5LFxuICBwYXJzZUpzb25WYWx1ZSxcbiAgc2V0VmFsdWVBdCxcbiAgdmFsdWVGcm9tQW55LFxuICB2YWx1ZVRvQW55LFxufSBmcm9tICcuL0pzb25WYWx1ZSc7XG5pbXBvcnQgeyBqdXN0LCBub3RoaW5nLCBvayB9IGZyb20gJ3RlYS1jdXAtY29yZSc7XG5pbXBvcnQgeyBKc1BhdGggfSBmcm9tICcuL0pzUGF0aCc7XG5cbmRlc2NyaWJlKCdKc29uVmFsdWUnLCAoKSA9PiB7XG4gIHRlc3QoJ3Nob3VsZCBwYXJzZSBmcm9tIHN0cicsICgpID0+IHtcbiAgICBleHBlY3QocGFyc2VKc29uVmFsdWUoJ251bGwnKSkudG9FcXVhbChvayhqdk51bGwpKTtcbiAgICBleHBlY3QocGFyc2VKc29uVmFsdWUoJzEyMycpKS50b0VxdWFsKG9rKGp2TnVtYmVyKCcxMjMnKSkpO1xuICAgIGV4cGVjdChwYXJzZUpzb25WYWx1ZSgndHJ1ZScpKS50b0VxdWFsKG9rKGp2Qm9vbCh0cnVlKSkpO1xuICAgIGV4cGVjdChwYXJzZUpzb25WYWx1ZSgnXCJ5YWxsYVwiJykpLnRvRXF1YWwob2soanZTdHJpbmcoJ3lhbGxhJykpKTtcbiAgICBleHBlY3QocGFyc2VKc29uVmFsdWUoSlNPTi5zdHJpbmdpZnkoeyBmb286ICdiYXInIH0pKSkudG9FcXVhbChcbiAgICAgIG9rKGp2T2JqZWN0KFt7IG5hbWU6ICdmb28nLCB2YWx1ZToganZTdHJpbmcoJ2JhcicpIH1dKSksXG4gICAgKTtcbiAgICBleHBlY3QocGFyc2VKc29uVmFsdWUoSlNPTi5zdHJpbmdpZnkoWzEsIDIsIDNdKSkpLnRvRXF1YWwoXG4gICAgICBvayhqdkFycmF5KFtqdk51bWJlcignMScpLCBqdk51bWJlcignMicpLCBqdk51bWJlcignMycpXSkpLFxuICAgICk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdzaG91bGQgY29udmVydCcsICgpID0+IHtcbiAgICB0ZXN0KCdmcm9tIGFueScsICgpID0+IHtcbiAgICAgIGV4cGVjdCh2YWx1ZUZyb21BbnkobnVsbCkpLnRvRXF1YWwob2soanZOdWxsKSk7XG4gICAgICBleHBlY3QodmFsdWVGcm9tQW55KDEyMykpLnRvRXF1YWwob2soanZOdW1iZXIoJzEyMycpKSk7XG4gICAgICBleHBlY3QodmFsdWVGcm9tQW55KHRydWUpKS50b0VxdWFsKG9rKGp2Qm9vbCh0cnVlKSkpO1xuICAgICAgZXhwZWN0KHZhbHVlRnJvbUFueSgneWFsbGEnKSkudG9FcXVhbChvayhqdlN0cmluZygneWFsbGEnKSkpO1xuICAgICAgZXhwZWN0KHZhbHVlRnJvbUFueSh7IGZvbzogJ2JhcicgfSkpLnRvRXF1YWwoXG4gICAgICAgIG9rKGp2T2JqZWN0KFt7IG5hbWU6ICdmb28nLCB2YWx1ZToganZTdHJpbmcoJ2JhcicpIH1dKSksXG4gICAgICApO1xuICAgICAgZXhwZWN0KHZhbHVlRnJvbUFueShbMSwgeyBmb286ICdiYXInIH0sIFsyLCAzXV0pKS50b0VxdWFsKFxuICAgICAgICBvayhcbiAgICAgICAgICBqdkFycmF5KFtcbiAgICAgICAgICAgIGp2TnVtYmVyKCcxJyksXG4gICAgICAgICAgICBqdk9iamVjdChbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnZm9vJyxcbiAgICAgICAgICAgICAgICB2YWx1ZToganZTdHJpbmcoJ2JhcicpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBqdkFycmF5KFtqdk51bWJlcignMicpLCBqdk51bWJlcignMycpXSksXG4gICAgICAgICAgXSksXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnaW52YWxpZCBudW1iZXIgY29udmVydHMgdG8gc3RyaW5nJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KHZhbHVlVG9BbnkoanZOdW1iZXIoJ3lhbGxhJykpKS50b0VxdWFsKCd5YWxsYScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnbnVtYmVyIHJvdW5kdHJpcCcsICgpID0+IHtcbiAgICAgIHZhbHVlRnJvbUFueSgxMjMpLm1hdGNoKFxuICAgICAgICAodikgPT4ge1xuICAgICAgICAgIGV4cGVjdCh2KS50b0VxdWFsKGp2TnVtYmVyKCcxMjMnKSk7XG4gICAgICAgICAgY29uc3QgYSA9IHZhbHVlVG9Bbnkodik7XG4gICAgICAgICAgZXhwZWN0KGEpLnRvRXF1YWwoMTIzKTtcbiAgICAgICAgfSxcbiAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgIGZhaWwoZXJyKTtcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCd0byBhbnknLCAoKSA9PiB7XG4gICAgICBleHBlY3QodmFsdWVUb0FueShqdk51bGwpKS50b0VxdWFsKG51bGwpO1xuICAgICAgZXhwZWN0KHZhbHVlVG9BbnkoanZOdW1iZXIoJzEyMycpKSkudG9FcXVhbCgxMjMpO1xuICAgICAgZXhwZWN0KHZhbHVlVG9BbnkoanZTdHJpbmcoJ3lhbGxhJykpKS50b0VxdWFsKCd5YWxsYScpO1xuICAgICAgZXhwZWN0KHZhbHVlVG9BbnkoanZCb29sKHRydWUpKSkudG9FcXVhbCh0cnVlKTtcbiAgICAgIGV4cGVjdCh2YWx1ZVRvQW55KGp2QXJyYXkoW2p2TnVtYmVyKCcxJyksIGp2TnVtYmVyKCcyJyldKSkpLnRvRXF1YWwoW1xuICAgICAgICAxLCAyLFxuICAgICAgXSk7XG4gICAgICBleHBlY3QoXG4gICAgICAgIHZhbHVlVG9BbnkoXG4gICAgICAgICAganZPYmplY3QoW1xuICAgICAgICAgICAgeyBuYW1lOiAnZm9vJywgdmFsdWU6IGp2U3RyaW5nKCdiYXInKSB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBuYW1lOiAnYmxhaCcsXG4gICAgICAgICAgICAgIHZhbHVlOiBqdk9iamVjdChbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbmFtZTogJ2JheicsXG4gICAgICAgICAgICAgICAgICB2YWx1ZToganZBcnJheShbanZCb29sKHRydWUpLCBqdk51bWJlcignOTk5JyldKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSksXG4gICAgICAgICksXG4gICAgICApLnRvRXF1YWwoe1xuICAgICAgICBmb286ICdiYXInLFxuICAgICAgICBibGFoOiB7XG4gICAgICAgICAgYmF6OiBbdHJ1ZSwgOTk5XSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBmdW5jdGlvbiB2YWx1ZUZyb21BbnlUaHJvdyh2YWx1ZTogYW55KTogSnNvblZhbHVlIHtcbiAgICBjb25zdCB2ID0gdmFsdWVGcm9tQW55KHZhbHVlKTtcbiAgICBzd2l0Y2ggKHYudGFnKSB7XG4gICAgICBjYXNlICdFcnInOiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih2LmVycik7XG4gICAgICB9XG4gICAgICBjYXNlICdPayc6IHtcbiAgICAgICAgcmV0dXJuIHYudmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZGVzY3JpYmUoJ2NhbiBiZSBxdWVyaWVkJywgKCkgPT4ge1xuICAgIHRlc3QoJ2F0IHJvb3QnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZ2V0VmFsdWVBdChqdk51bGwsIEpzUGF0aC5lbXB0eSkpLnRvRXF1YWwoanVzdChqdk51bGwpKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJzFzdCBsZXZlbCBwcm9wJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KFxuICAgICAgICBnZXRWYWx1ZUF0KFxuICAgICAgICAgIHZhbHVlRnJvbUFueVRocm93KHtcbiAgICAgICAgICAgIGZvbzogJ2JhcicsXG4gICAgICAgICAgICBibGFoOiAxLFxuICAgICAgICAgICAgenp6OiB0cnVlLFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIEpzUGF0aC5wYXJzZSgnZm9vJyksXG4gICAgICAgICksXG4gICAgICApLnRvRXF1YWwoanVzdChqdlN0cmluZygnYmFyJykpKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJzFzdCBsZXZlbCBhcnJheScsICgpID0+IHtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgZ2V0VmFsdWVBdCh2YWx1ZUZyb21BbnlUaHJvdyhbMSwgdHJ1ZSwgJ3lhbGxhJ10pLCBKc1BhdGgucGFyc2UoJzInKSksXG4gICAgICApLnRvRXF1YWwoanVzdChqdlN0cmluZygneWFsbGEnKSkpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnZGVlcGx5IG5lc3RlZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IG15T2JqID0gdmFsdWVGcm9tQW55VGhyb3coe1xuICAgICAgICBhOiB7XG4gICAgICAgICAgYjoge1xuICAgICAgICAgICAgYzoge1xuICAgICAgICAgICAgICBkOiBbXG4gICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBmb286ICdiYXInLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgZDI6ICd5b2xvJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBiMjogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgYTI6ICd5YWxsYScsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGdldFZhbHVlQXQobXlPYmosIEpzUGF0aC5wYXJzZSgnYS9iL2MnKSkpLnRvRXF1YWwoXG4gICAgICAgIGp1c3QoXG4gICAgICAgICAgdmFsdWVGcm9tQW55VGhyb3coe1xuICAgICAgICAgICAgZDogW1xuICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm9vOiAnYmFyJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBkMjogJ3lvbG8nLFxuICAgICAgICAgIH0pLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIGV4cGVjdChnZXRWYWx1ZUF0KG15T2JqLCBKc1BhdGgucGFyc2UoJ2EvYi9jL2QvMS9mb28nKSkpLnRvRXF1YWwoXG4gICAgICAgIGp1c3QoanZTdHJpbmcoJ2JhcicpKSxcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjYW4gYmUgdXBkYXRlZCcsICgpID0+IHtcbiAgICB0ZXN0KCdhdCByb290JywgKCkgPT4ge1xuICAgICAgZXhwZWN0KHNldFZhbHVlQXQoanZOdWxsLCBKc1BhdGguZW1wdHksIGp2TnVtYmVyKCcxMjMnKSkpLnRvRXF1YWwoXG4gICAgICAgIGp2TnVtYmVyKCcxMjMnKSxcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCcxc3QgbGV2ZWwgcHJvcCcsICgpID0+IHtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgc2V0VmFsdWVBdChcbiAgICAgICAgICBqdk9iamVjdChbXG4gICAgICAgICAgICB7IG5hbWU6ICdmb28nLCB2YWx1ZToganZOdW1iZXIoJzEyJykgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2JhcicsIHZhbHVlOiBqdk51bWJlcignMTMnKSB9LFxuICAgICAgICAgIF0pLFxuICAgICAgICAgIEpzUGF0aC5lbXB0eS5hcHBlbmQoJ2ZvbycpLFxuICAgICAgICAgIGp2Qm9vbCh0cnVlKSxcbiAgICAgICAgKSxcbiAgICAgICkudG9FcXVhbChcbiAgICAgICAganZPYmplY3QoW1xuICAgICAgICAgIHsgbmFtZTogJ2ZvbycsIHZhbHVlOiBqdkJvb2wodHJ1ZSkgfSxcbiAgICAgICAgICB7IG5hbWU6ICdiYXInLCB2YWx1ZToganZOdW1iZXIoJzEzJykgfSxcbiAgICAgICAgXSksXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnMXN0IGxldmVsIGFycmF5JywgKCkgPT4ge1xuICAgICAgZXhwZWN0KFxuICAgICAgICBzZXRWYWx1ZUF0KFxuICAgICAgICAgIGp2QXJyYXkoW2p2TnVtYmVyKCcxMicpLCBqdk51bWJlcignMTMnKSwganZOdW1iZXIoJzE0JyldKSxcbiAgICAgICAgICBKc1BhdGguZW1wdHkuYXBwZW5kKDEpLFxuICAgICAgICAgIGp2U3RyaW5nKCd5YWxsYScpLFxuICAgICAgICApLFxuICAgICAgKS50b0VxdWFsKGp2QXJyYXkoW2p2TnVtYmVyKCcxMicpLCBqdlN0cmluZygneWFsbGEnKSwganZOdW1iZXIoJzE0JyldKSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdkZWVwbHkgbmVzdGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgbXlPYmogPSB2YWx1ZUZyb21BbnlUaHJvdyh7XG4gICAgICAgIGE6IHtcbiAgICAgICAgICBiOiB7XG4gICAgICAgICAgICBjOiB7XG4gICAgICAgICAgICAgIGQ6IFtcbiAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGZvbzogJ2JhcicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAyLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGIyOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBhMjogJ3lhbGxhJyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBleHBlY3RlZCA9IHZhbHVlRnJvbUFueVRocm93KHtcbiAgICAgICAgYToge1xuICAgICAgICAgIGI6IHtcbiAgICAgICAgICAgIGM6IHtcbiAgICAgICAgICAgICAgZDogW1xuICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgZm9vOiA5OTksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAyLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGIyOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBhMjogJ3lhbGxhJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoXG4gICAgICAgIHNldFZhbHVlQXQobXlPYmosIEpzUGF0aC5wYXJzZSgnYS9iL2MvZC8xL2ZvbycpLCBqdk51bWJlcignOTk5JykpLFxuICAgICAgKS50b0VxdWFsKGV4cGVjdGVkKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NhbiBiZSBtYXBwZWQnLCAoKSA9PiB7XG4gICAgdGVzdCgncm9vdCcsICgpID0+IHtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgbWFwVmFsdWVBdChqdk51bGwsIEpzUGF0aC5lbXB0eSwgKCkgPT4ganVzdChqdk51bWJlcignMTIzJykpKSxcbiAgICAgICkudG9FcXVhbChqdXN0KGp2TnVtYmVyKCcxMjMnKSkpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgncm9vdCBkZWxldGUnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZGVsZXRlVmFsdWVBdChqdk51bGwsIEpzUGF0aC5lbXB0eSkpLnRvRXF1YWwobm90aGluZyk7XG4gICAgfSk7XG5cbiAgICBjb25zdCByb290MSA9IGp2T2JqZWN0KFtcbiAgICAgIHsgbmFtZTogJ2ZvbycsIHZhbHVlOiBqdlN0cmluZygnYmFyJykgfSxcbiAgICAgIHsgbmFtZTogJ2JsYWgnLCB2YWx1ZToganZTdHJpbmcoJ3lhbGxhJykgfSxcbiAgICBdKTtcblxuICAgIHRlc3QoJzFzdCBsZXZlbCBwcm9wJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KFxuICAgICAgICBtYXBWYWx1ZUF0KHJvb3QxLCBKc1BhdGgucGFyc2UoJ2ZvbycpLCAoKSA9PiBqdXN0KGp2TnVtYmVyKCcxMjMnKSkpLFxuICAgICAgKS50b0VxdWFsKFxuICAgICAgICBqdXN0KFxuICAgICAgICAgIGp2T2JqZWN0KFtcbiAgICAgICAgICAgIHsgbmFtZTogJ2ZvbycsIHZhbHVlOiBqdk51bWJlcignMTIzJykgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2JsYWgnLCB2YWx1ZToganZTdHJpbmcoJ3lhbGxhJykgfSxcbiAgICAgICAgICBdKSxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCcxc3QgbGV2ZWwgcHJvcCBkZWxldGUnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZGVsZXRlVmFsdWVBdChyb290MSwgSnNQYXRoLnBhcnNlKCdmb28nKSkpLnRvRXF1YWwoXG4gICAgICAgIGp1c3QoanZPYmplY3QoW3sgbmFtZTogJ2JsYWgnLCB2YWx1ZToganZTdHJpbmcoJ3lhbGxhJykgfV0pKSxcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBjb25zdCByb290MiA9IGp2QXJyYXkoW2p2TnVtYmVyKCcxMjMnKSwganZTdHJpbmcoJ2ZvbycpLCBqdk51bGxdKTtcblxuICAgIHRlc3QoJzFzdCBsZXZlbCBhcnJheScsICgpID0+IHtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgbWFwVmFsdWVBdChyb290MiwgSnNQYXRoLnBhcnNlKCcxJyksICgpID0+IGp1c3QoanZCb29sKHRydWUpKSksXG4gICAgICApLnRvRXF1YWwoanVzdChqdkFycmF5KFtqdk51bWJlcignMTIzJyksIGp2Qm9vbCh0cnVlKSwganZOdWxsXSkpKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJzFzdCBsZXZlbCBhcnJheSBkZWxldGUnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZGVsZXRlVmFsdWVBdChyb290MiwgSnNQYXRoLnBhcnNlKCcxJykpKS50b0VxdWFsKFxuICAgICAgICBqdXN0KGp2QXJyYXkoW2p2TnVtYmVyKCcxMjMnKSwganZOdWxsXSkpLFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJvb3QzID0gdmFsdWVGcm9tQW55VGhyb3coe1xuICAgICAgYToge1xuICAgICAgICBiOiB7XG4gICAgICAgICAgYzoge1xuICAgICAgICAgICAgZDogW1xuICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm9vOiAnYmFyJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgYjI6IHRydWUsXG4gICAgICB9LFxuICAgICAgYTI6ICd5YWxsYScsXG4gICAgfSk7XG5cbiAgICB0ZXN0KCdkZWVwbHkgbmVzdGVkJywgKCkgPT4ge1xuICAgICAgY29uc3QgbWFwcGVkID0gbWFwVmFsdWVBdChyb290MywgSnNQYXRoLnBhcnNlKCdhL2IvYy9kLzEvZm9vJyksICgpID0+XG4gICAgICAgIGp1c3QoanZOdWxsKSxcbiAgICAgICk7XG4gICAgICBleHBlY3QobWFwcGVkKS50b0VxdWFsKFxuICAgICAgICBqdXN0KFxuICAgICAgICAgIHZhbHVlRnJvbUFueVRocm93KHtcbiAgICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgICAgYjoge1xuICAgICAgICAgICAgICAgIGM6IHtcbiAgICAgICAgICAgICAgICAgIGQ6IFtcbiAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGZvbzogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgMixcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYjI6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYTI6ICd5YWxsYScsXG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnZGVlcGx5IG5lc3RlZCBkZWxldGUnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZGVsZXRlVmFsdWVBdChyb290MywgSnNQYXRoLnBhcnNlKCdhL2IvYy9kLzEvZm9vJykpKS50b0VxdWFsKFxuICAgICAgICBqdXN0KFxuICAgICAgICAgIHZhbHVlRnJvbUFueVRocm93KHtcbiAgICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgICAgYjoge1xuICAgICAgICAgICAgICAgIGM6IHtcbiAgICAgICAgICAgICAgICAgIGQ6IFsxLCB7fSwgMl0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYjI6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYTI6ICd5YWxsYScsXG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnc2hvdWxkIG1vdmUnLCAoKSA9PiB7XG4gICAgdGVzdCgncHJvcHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB2ID0gdmFsdWVGcm9tQW55VGhyb3coe1xuICAgICAgICBhOiAxLFxuICAgICAgICBiOiAyLFxuICAgICAgICBjOiAzLFxuICAgICAgfSk7XG4gICAgICBleHBlY3QobW92ZVByb3BlcnR5KHYsIEpzUGF0aC5lbXB0eSwgJ2InLCAndXAnKSkudG9FcXVhbChcbiAgICAgICAgdmFsdWVGcm9tQW55VGhyb3coe1xuICAgICAgICAgIGI6IDIsXG4gICAgICAgICAgYTogMSxcbiAgICAgICAgICBjOiAzLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgICBleHBlY3QobW92ZVByb3BlcnR5KHYsIEpzUGF0aC5lbXB0eSwgJ2InLCAnZG93bicpKS50b0VxdWFsKFxuICAgICAgICB2YWx1ZUZyb21BbnlUaHJvdyh7XG4gICAgICAgICAgYTogMSxcbiAgICAgICAgICBjOiAzLFxuICAgICAgICAgIGI6IDIsXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICAgIGV4cGVjdChtb3ZlUHJvcGVydHkodiwgSnNQYXRoLmVtcHR5LCAnYScsICd1cCcpKS50b0VxdWFsKFxuICAgICAgICB2YWx1ZUZyb21BbnlUaHJvdyh7XG4gICAgICAgICAgYTogMSxcbiAgICAgICAgICBiOiAyLFxuICAgICAgICAgIGM6IDMsXG4gICAgICAgIH0pLFxuICAgICAgKTtcbiAgICAgIGV4cGVjdChtb3ZlUHJvcGVydHkodiwgSnNQYXRoLmVtcHR5LCAnYycsICdkb3duJykpLnRvRXF1YWwoXG4gICAgICAgIHZhbHVlRnJvbUFueVRocm93KHtcbiAgICAgICAgICBhOiAxLFxuICAgICAgICAgIGI6IDIsXG4gICAgICAgICAgYzogMyxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgICAgZXhwZWN0KG1vdmVQcm9wZXJ0eSh2LCBKc1BhdGguZW1wdHksICdjJywgJ3VwJykpLnRvRXF1YWwoXG4gICAgICAgIHZhbHVlRnJvbUFueVRocm93KHtcbiAgICAgICAgICBhOiAxLFxuICAgICAgICAgIGM6IDMsXG4gICAgICAgICAgYjogMixcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgICAgZXhwZWN0KG1vdmVQcm9wZXJ0eSh2LCBKc1BhdGguZW1wdHksICdub3QtZXhpc3RpbmcnLCAndXAnKSkudG9FcXVhbCh2KTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ2FycmF5cycsICgpID0+IHtcbiAgICAgIGNvbnN0IHYgPSB2YWx1ZUZyb21BbnlUaHJvdyhbMSwgMiwgM10pO1xuICAgICAgZXhwZWN0KG1vdmVFbGVtZW50KHYsIEpzUGF0aC5lbXB0eSwgMSwgJ3VwJykpLnRvRXF1YWwoXG4gICAgICAgIHZhbHVlRnJvbUFueVRocm93KFsyLCAxLCAzXSksXG4gICAgICApO1xuICAgICAgZXhwZWN0KG1vdmVFbGVtZW50KHYsIEpzUGF0aC5lbXB0eSwgMSwgJ2Rvd24nKSkudG9FcXVhbChcbiAgICAgICAgdmFsdWVGcm9tQW55VGhyb3coWzEsIDMsIDJdKSxcbiAgICAgICk7XG4gICAgICBleHBlY3QobW92ZUVsZW1lbnQodiwgSnNQYXRoLmVtcHR5LCAwLCAndXAnKSkudG9FcXVhbChcbiAgICAgICAgdmFsdWVGcm9tQW55VGhyb3coWzEsIDIsIDNdKSxcbiAgICAgICk7XG4gICAgICBleHBlY3QobW92ZUVsZW1lbnQodiwgSnNQYXRoLmVtcHR5LCAyLCAnZG93bicpKS50b0VxdWFsKFxuICAgICAgICB2YWx1ZUZyb21BbnlUaHJvdyhbMSwgMiwgM10pLFxuICAgICAgKTtcbiAgICAgIGV4cGVjdChtb3ZlRWxlbWVudCh2LCBKc1BhdGguZW1wdHksIDk5OSwgJ3VwJykpLnRvRXF1YWwodik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHRlc3QoJ29iamVjdHMgY2FuIGJlIG1lcmdlZCcsICgpID0+IHtcbiAgICBjb25zdCBvMSA9IHZhbHVlRnJvbUFueVRocm93KHtcbiAgICAgIGE6IDEsXG4gICAgICBjOiAzLFxuICAgIH0pIGFzIEp2T2JqZWN0O1xuICAgIGNvbnN0IG8yID0gdmFsdWVGcm9tQW55VGhyb3coe1xuICAgICAgYTogMixcbiAgICAgIGI6IDIsXG4gICAgfSkgYXMgSnZPYmplY3Q7XG4gICAgZXhwZWN0KG1lcmdlUHJvcGVydGllcyhvMSwgbzIpKS50b0VxdWFsKFxuICAgICAgdmFsdWVGcm9tQW55VGhyb3coe1xuICAgICAgICBhOiAyLFxuICAgICAgICBiOiAyLFxuICAgICAgICBjOiAzLFxuICAgICAgfSksXG4gICAgKTtcbiAgICBleHBlY3QobWVyZ2VQcm9wZXJ0aWVzKG8yLCBvMSkpLnRvRXF1YWwoXG4gICAgICB2YWx1ZUZyb21BbnlUaHJvdyh7XG4gICAgICAgIGE6IDEsXG4gICAgICAgIGM6IDMsXG4gICAgICAgIGI6IDIsXG4gICAgICB9KSxcbiAgICApO1xuICB9KTtcbn0pO1xuIl19