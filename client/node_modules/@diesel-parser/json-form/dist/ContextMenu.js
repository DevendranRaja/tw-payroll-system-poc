"use strict";
/*
 * Copyright 2018 The Diesel Authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.executeContextMenuAction = void 0;
const tea_cup_core_1 = require("tea-cup-core");
const Actions_1 = require("./Actions");
function executeContextMenuAction(model, action) {
    switch (action.tag) {
        case 'delete': {
            return (0, Actions_1.actionDeleteValue)(model, action.path);
        }
        case 'move-down': {
            return (0, Actions_1.actionMoveValue)(model, action.path, 'down');
        }
        case 'move-up': {
            return (0, Actions_1.actionMoveValue)(model, action.path, 'up');
        }
        case 'change-type': {
            return (0, Actions_1.actionUpdateValue)(model, action.path, action.value);
        }
        case 'proposal': {
            return (0, Actions_1.actionApplyProposal)(model, action.path, action.value, action.index);
        }
        case 'add': {
            if (action.isArray) {
                return (0, Actions_1.actionAddElementToArray)(model, action.path);
            }
            else {
                return (0, Actions_1.actionAddPropertyClicked)(model, action.path);
            }
        }
        default:
            return (0, tea_cup_core_1.noCmd)(model);
    }
}
exports.executeContextMenuAction = executeContextMenuAction;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udGV4dE1lbnUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvQ29udGV4dE1lbnUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7OztHQWNHOzs7QUFFSCwrQ0FBMEM7QUFDMUMsdUNBT21CO0FBS25CLFNBQWdCLHdCQUF3QixDQUN0QyxLQUFZLEVBQ1osTUFBa0I7SUFFbEIsUUFBUSxNQUFNLENBQUMsR0FBRyxFQUFFO1FBQ2xCLEtBQUssUUFBUSxDQUFDLENBQUM7WUFDYixPQUFPLElBQUEsMkJBQWlCLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUM5QztRQUNELEtBQUssV0FBVyxDQUFDLENBQUM7WUFDaEIsT0FBTyxJQUFBLHlCQUFlLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7U0FDcEQ7UUFDRCxLQUFLLFNBQVMsQ0FBQyxDQUFDO1lBQ2QsT0FBTyxJQUFBLHlCQUFlLEVBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDbEQ7UUFDRCxLQUFLLGFBQWEsQ0FBQyxDQUFDO1lBQ2xCLE9BQU8sSUFBQSwyQkFBaUIsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDNUQ7UUFDRCxLQUFLLFVBQVUsQ0FBQyxDQUFDO1lBQ2YsT0FBTyxJQUFBLDZCQUFtQixFQUN4QixLQUFLLEVBQ0wsTUFBTSxDQUFDLElBQUksRUFDWCxNQUFNLENBQUMsS0FBSyxFQUNaLE1BQU0sQ0FBQyxLQUFLLENBQ2IsQ0FBQztTQUNIO1FBQ0QsS0FBSyxLQUFLLENBQUMsQ0FBQztZQUNWLElBQUksTUFBTSxDQUFDLE9BQU8sRUFBRTtnQkFDbEIsT0FBTyxJQUFBLGlDQUF1QixFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDcEQ7aUJBQU07Z0JBQ0wsT0FBTyxJQUFBLGtDQUF3QixFQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDckQ7U0FDRjtRQUNEO1lBQ0UsT0FBTyxJQUFBLG9CQUFLLEVBQUMsS0FBSyxDQUFDLENBQUM7S0FDdkI7QUFDSCxDQUFDO0FBbkNELDREQW1DQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgRGllc2VsIEF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ21kLCBub0NtZCB9IGZyb20gJ3RlYS1jdXAtY29yZSc7XG5pbXBvcnQge1xuICBhY3Rpb25BZGRFbGVtZW50VG9BcnJheSxcbiAgYWN0aW9uQWRkUHJvcGVydHlDbGlja2VkLFxuICBhY3Rpb25BcHBseVByb3Bvc2FsLFxuICBhY3Rpb25EZWxldGVWYWx1ZSxcbiAgYWN0aW9uTW92ZVZhbHVlLFxuICBhY3Rpb25VcGRhdGVWYWx1ZSxcbn0gZnJvbSAnLi9BY3Rpb25zJztcbmltcG9ydCB7IE1lbnVBY3Rpb24gfSBmcm9tICcuL0NvbnRleHRNZW51QWN0aW9ucyc7XG5pbXBvcnQgeyBNb2RlbCB9IGZyb20gJy4vTW9kZWwnO1xuaW1wb3J0IHsgTXNnIH0gZnJvbSAnLi9Nc2cnO1xuXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZUNvbnRleHRNZW51QWN0aW9uKFxuICBtb2RlbDogTW9kZWwsXG4gIGFjdGlvbjogTWVudUFjdGlvbixcbik6IFtNb2RlbCwgQ21kPE1zZz5dIHtcbiAgc3dpdGNoIChhY3Rpb24udGFnKSB7XG4gICAgY2FzZSAnZGVsZXRlJzoge1xuICAgICAgcmV0dXJuIGFjdGlvbkRlbGV0ZVZhbHVlKG1vZGVsLCBhY3Rpb24ucGF0aCk7XG4gICAgfVxuICAgIGNhc2UgJ21vdmUtZG93bic6IHtcbiAgICAgIHJldHVybiBhY3Rpb25Nb3ZlVmFsdWUobW9kZWwsIGFjdGlvbi5wYXRoLCAnZG93bicpO1xuICAgIH1cbiAgICBjYXNlICdtb3ZlLXVwJzoge1xuICAgICAgcmV0dXJuIGFjdGlvbk1vdmVWYWx1ZShtb2RlbCwgYWN0aW9uLnBhdGgsICd1cCcpO1xuICAgIH1cbiAgICBjYXNlICdjaGFuZ2UtdHlwZSc6IHtcbiAgICAgIHJldHVybiBhY3Rpb25VcGRhdGVWYWx1ZShtb2RlbCwgYWN0aW9uLnBhdGgsIGFjdGlvbi52YWx1ZSk7XG4gICAgfVxuICAgIGNhc2UgJ3Byb3Bvc2FsJzoge1xuICAgICAgcmV0dXJuIGFjdGlvbkFwcGx5UHJvcG9zYWwoXG4gICAgICAgIG1vZGVsLFxuICAgICAgICBhY3Rpb24ucGF0aCxcbiAgICAgICAgYWN0aW9uLnZhbHVlLFxuICAgICAgICBhY3Rpb24uaW5kZXgsXG4gICAgICApO1xuICAgIH1cbiAgICBjYXNlICdhZGQnOiB7XG4gICAgICBpZiAoYWN0aW9uLmlzQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbkFkZEVsZW1lbnRUb0FycmF5KG1vZGVsLCBhY3Rpb24ucGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYWN0aW9uQWRkUHJvcGVydHlDbGlja2VkKG1vZGVsLCBhY3Rpb24ucGF0aCk7XG4gICAgICB9XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbm9DbWQobW9kZWwpO1xuICB9XG59XG4iXX0=